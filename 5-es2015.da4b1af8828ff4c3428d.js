(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Y2Qk:function(t,e,i){"use strict";i.r(e),i.d(e,"FrotasModule",(function(){return ee}));var n=i("ofXK"),a=i("4kua"),o=i("jIHw"),s=i("rEr+"),r=i("Gxio"),l=i("arFO"),c=i("W/hO"),u=i("xlun"),p=i("AytR"),h=i("fXoL"),d=i("tk/3");let b=(()=>{class t{constructor(t){this.httpClient=t}setUrl(t){this.url=p.a.apiUrl.concat(t)}findAll(t){return t?this.httpClient.get(this.url,{params:t}):this.httpClient.get(this.url)}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(d.b))},t.\u0275prov=h.Fb({token:t,factory:t.\u0275fac}),t})();var f=i("3Pt+");let m=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),g=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},providers:[b],imports:[[n.c,f.e,s.c,o.b,m,r.b,l.b,c.a,u.b]]}),t})();var v=i("mrSG"),y=i("vDqi"),C=i.n(y);let O=(()=>{class t{constructor(){this.url=p.a.apiUrl,this.userId=localStorage.getItem("userId"),this.axiosClient=C.a.create({timeout:3e3,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("token")},baseURL:this.url})}findAnalitycs(){return Object(v.a)(this,void 0,void 0,(function*(){try{return(yield this.axiosClient.get("/tivws100/cotacaofrete?userId="+this.userId)).data}catch(t){return t}}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Fb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},providers:[O],imports:[[n.c,g,a.a]]}),t})();var S=i("3sZV"),I=i("7zfz");function w(t,e){1&t&&h.Lb(0)}function A(t,e){if(1&t&&(h.Pb(0,"div",8),h.dc(1,1),h.yc(2,w,1,0,"ng-container",6),h.Ob()),2&t){const t=h.Zb();h.yb(2),h.fc("ngTemplateOutlet",t.headerTemplate)}}function T(t,e){1&t&&h.Lb(0)}function P(t,e){if(1&t&&(h.Pb(0,"div",9),h.Ac(1),h.yc(2,T,1,0,"ng-container",6),h.Ob()),2&t){const t=h.Zb();h.yb(1),h.Cc(" ",t.header," "),h.yb(1),h.fc("ngTemplateOutlet",t.titleTemplate)}}function x(t,e){1&t&&h.Lb(0)}function k(t,e){if(1&t&&(h.Pb(0,"div",10),h.Ac(1),h.yc(2,x,1,0,"ng-container",6),h.Ob()),2&t){const t=h.Zb();h.yb(1),h.Cc(" ",t.subheader," "),h.yb(1),h.fc("ngTemplateOutlet",t.subtitleTemplate)}}function R(t,e){1&t&&h.Lb(0)}function N(t,e){1&t&&h.Lb(0)}function V(t,e){if(1&t&&(h.Pb(0,"div",11),h.dc(1,2),h.yc(2,N,1,0,"ng-container",6),h.Ob()),2&t){const t=h.Zb();h.yb(2),h.fc("ngTemplateOutlet",t.footerTemplate)}}const M=["*",[["p-header"]],[["p-footer"]]],L=["*","p-header","p-footer"];let D=(()=>{class t{constructor(t){this.el=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"title":this.titleTemplate=t.template;break;case"subtitle":this.subtitleTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.contentTemplate=t.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return t.\u0275fac=function(e){return new(e||t)(h.Jb(h.l))},t.\u0275cmp=h.Db({type:t,selectors:[["p-card"]],contentQueries:function(t,e,i){var n;1&t&&(h.Cb(i,I.g,!0),h.Cb(i,I.f,!0),h.Cb(i,I.j,!1)),2&t&&(h.pc(n=h.Xb())&&(e.headerFacet=n.first),h.pc(n=h.Xb())&&(e.footerFacet=n.first),h.pc(n=h.Xb())&&(e.templates=n))},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:L,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(t,e){1&t&&(h.ec(M),h.Pb(0,"div",0),h.yc(1,A,3,1,"div",1),h.Pb(2,"div",2),h.yc(3,P,3,2,"div",3),h.yc(4,k,3,2,"div",4),h.Pb(5,"div",5),h.dc(6),h.yc(7,R,1,0,"ng-container",6),h.Ob(),h.yc(8,V,3,1,"div",7),h.Ob(),h.Ob()),2&t&&(h.Ab(e.styleClass),h.fc("ngClass","p-card p-component")("ngStyle",e.style),h.yb(1),h.fc("ngIf",e.headerFacet||e.headerTemplate),h.yb(2),h.fc("ngIf",e.header||e.titleTemplate),h.yb(1),h.fc("ngIf",e.subheader||e.subtitleTemplate),h.yb(3),h.fc("ngTemplateOutlet",e.contentTemplate),h.yb(1),h.fc("ngIf",e.footerFacet||e.footerTemplate))},directives:[n.k,n.n,n.m,n.q],styles:[".p-card-header img{width:100%}"],encapsulation:2,changeDetection:0}),t})(),F=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[n.c],I.k]}),t})();var B=i("Ks7X"),_=i("Q4Mo");i("R0Ic");let H=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[n.c,I.k,_.b],I.k]}),t})();function j(t,e){1&t&&h.Lb(0)}function q(t,e){1&t&&h.Lb(0)}const Z=function(t){return{$implicit:t}};function K(t,e){if(1&t&&(h.Nb(0),h.yc(1,q,1,0,"ng-container",4),h.Mb()),2&t){const t=h.Zb().$implicit,e=h.Zb();h.yb(1),h.fc("ngTemplateOutlet",e.markerTemplate)("ngTemplateOutletContext",h.ic(2,Z,t))}}function $(t,e){1&t&&h.Kb(0,"div",10)}function z(t,e){1&t&&h.Kb(0,"div",11)}function G(t,e){1&t&&h.Lb(0)}function W(t,e){if(1&t&&(h.Pb(0,"div",2),h.Pb(1,"div",3),h.yc(2,j,1,0,"ng-container",4),h.Ob(),h.Pb(3,"div",5),h.yc(4,K,2,4,"ng-container",6),h.yc(5,$,1,0,"ng-template",null,7,h.zc),h.yc(7,z,1,0,"div",8),h.Ob(),h.Pb(8,"div",9),h.yc(9,G,1,0,"ng-container",4),h.Ob(),h.Ob()),2&t){const t=e.$implicit,i=e.last,n=h.qc(6),a=h.Zb();h.yb(2),h.fc("ngTemplateOutlet",a.oppositeTemplate)("ngTemplateOutletContext",h.ic(7,Z,t)),h.yb(2),h.fc("ngIf",a.markerTemplate)("ngIfElse",n),h.yb(3),h.fc("ngIf",!i),h.yb(2),h.fc("ngTemplateOutlet",a.contentTemplate)("ngTemplateOutletContext",h.ic(9,Z,t))}}const U=function(t,e,i,n,a,o,s){return{"p-timeline p-component":!0,"p-timeline-left":t,"p-timeline-right":e,"p-timeline-top":i,"p-timeline-bottom":n,"p-timeline-alternate":a,"p-timeline-vertical":o,"p-timeline-horizontal":s}};let J=(()=>{class t{constructor(t){this.el=t,this.align="left",this.layout="vertical"}getBlockableElement(){return this.el.nativeElement.children[0]}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"opposite":this.oppositeTemplate=t.template;break;case"marker":this.markerTemplate=t.template}})}}return t.\u0275fac=function(e){return new(e||t)(h.Jb(h.l))},t.\u0275cmp=h.Db({type:t,selectors:[["p-timeline"]],contentQueries:function(t,e,i){var n;1&t&&h.Cb(i,I.j,!1),2&t&&h.pc(n=h.Xb())&&(e.templates=n)},inputs:{align:"align",layout:"layout",value:"value",style:"style",styleClass:"styleClass"},decls:2,vars:13,consts:[[3,"ngStyle","ngClass"],["class","p-timeline-event",4,"ngFor","ngForOf"],[1,"p-timeline-event"],[1,"p-timeline-event-opposite"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-timeline-event-separator"],[4,"ngIf","ngIfElse"],["marker",""],["class","p-timeline-event-connector",4,"ngIf"],[1,"p-timeline-event-content"],[1,"p-timeline-event-marker"],[1,"p-timeline-event-connector"]],template:function(t,e){1&t&&(h.Pb(0,"div",0),h.yc(1,W,10,11,"div",1),h.Ob()),2&t&&(h.Ab(e.styleClass),h.fc("ngStyle",e.style)("ngClass",h.oc(5,U,"left"===e.align,"right"===e.align,"top"===e.align,"bottom"===e.align,"alternate"===e.align,"vertical"===e.layout,"horizontal"===e.layout)),h.yb(1),h.fc("ngForOf",e.value))},directives:[n.n,n.k,n.l,n.q,n.m],styles:[".p-timeline{display:flex;flex-direction:column;flex-grow:1}.p-timeline-left .p-timeline-event-opposite{text-align:right}.p-timeline-left .p-timeline-event-content{text-align:left}.p-timeline-right .p-timeline-event{flex-direction:row-reverse}.p-timeline-right .p-timeline-event-opposite{text-align:left}.p-timeline-right .p-timeline-event-content{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:row-reverse}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-opposite{text-align:right}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-opposite,.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(odd) .p-timeline-event-content{text-align:left}.p-timeline-vertical.p-timeline-alternate .p-timeline-event:nth-child(2n) .p-timeline-event-content{text-align:right}.p-timeline-event{display:flex;min-height:70px;position:relative}.p-timeline-event:last-child{min-height:0}.p-timeline-event-content,.p-timeline-event-opposite{flex:1;padding:0 1rem}.p-timeline-event-separator{align-items:center;display:flex;flex:0;flex-direction:column}.p-timeline-event-marker{align-self:baseline;display:flex}.p-timeline-event-connector{flex-grow:1}.p-timeline-horizontal{flex-direction:row}.p-timeline-horizontal .p-timeline-event{flex:1;flex-direction:column}.p-timeline-horizontal .p-timeline-event:last-child{flex:0}.p-timeline-horizontal .p-timeline-event-separator{flex-direction:row}.p-timeline-horizontal .p-timeline-event-connector{width:100%}.p-timeline-bottom .p-timeline-event,.p-timeline-horizontal.p-timeline-alternate .p-timeline-event:nth-child(2n){flex-direction:column-reverse}"],encapsulation:2,changeDetection:0}),t})(),X=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[n.c],I.k]}),t})();const Q=["rb"],Y=function(t,e,i){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":t,"p-disabled":e,"p-radiobutton-label-focus":i}};function tt(t,e){if(1&t){const t=h.Qb();h.Pb(0,"label",4),h.Wb("click",(function(e){return h.rc(t),h.Zb().select(e)})),h.Ac(1),h.Ob()}if(2&t){const t=h.Zb(),e=h.qc(3);h.Ab(t.labelStyleClass),h.fc("ngClass",h.kc(5,Y,e.checked,t.disabled,t.focused)),h.zb("for",t.inputId),h.yb(1),h.Bc(t.label)}}const et=function(t,e,i){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":t,"p-radiobutton-disabled":e,"p-radiobutton-focused":i}},it=function(t,e,i){return{"p-radiobutton-box":!0,"p-highlight":t,"p-disabled":e,"p-focus":i}},nt={provide:f.h,useExisting:Object(h.S)(()=>ot),multi:!0};let at=(()=>{class t{constructor(){this.accessors=[]}add(t,e){this.accessors.push([t,e])}remove(t){this.accessors=this.accessors.filter(e=>e[1]!==t)}select(t){this.accessors.forEach(e=>{this.isSameGroup(e,t)&&e[1]!==t&&e[1].writeValue(t.value)})}isSameGroup(t,e){return!!t[0].control&&t[0].control.root===e.control.control.root&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(h.Fb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ot=(()=>{class t{constructor(t,e,i){this.cd=t,this.injector=e,this.registry=i,this.onClick=new h.n,this.onFocus=new h.n,this.onBlur=new h.n,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(f.i),this.checkName(),this.registry.add(this.control,this)}handleClick(t,e,i){t.preventDefault(),this.disabled||(this.select(t),i&&e.focus())}select(t){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit(t))}writeValue(t){this.checked=t==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onInputFocus(t){this.focused=!0,this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onModelTouched(),this.onBlur.emit(t)}onChange(t){this.select(t)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return t.\u0275fac=function(e){return new(e||t)(h.Jb(h.h),h.Jb(h.r),h.Jb(at))},t.\u0275cmp=h.Db({type:t,selectors:[["p-radioButton"]],viewQuery:function(t,e){var i;1&t&&h.Dc(Q,!0),2&t&&h.pc(i=h.Xb())&&(e.inputViewChild=i.first)},inputs:{disabled:"disabled",name:"name",value:"value",formControlName:"formControlName",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[h.xb([nt])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(t,e){if(1&t){const t=h.Qb();h.Pb(0,"div",0),h.Pb(1,"div",1),h.Pb(2,"input",2,3),h.Wb("change",(function(t){return e.onChange(t)}))("focus",(function(t){return e.onInputFocus(t)}))("blur",(function(t){return e.onInputBlur(t)})),h.Ob(),h.Ob(),h.Pb(4,"div",4),h.Wb("click",(function(i){h.rc(t);const n=h.qc(3);return e.handleClick(i,n,!0)})),h.Kb(5,"span",5),h.Ob(),h.Ob(),h.yc(6,tt,2,9,"label",6)}2&t&&(h.Ab(e.styleClass),h.fc("ngStyle",e.style)("ngClass",h.kc(15,et,e.checked,e.disabled,e.focused)),h.yb(2),h.fc("checked",e.checked)("disabled",e.disabled),h.zb("id",e.inputId)("name",e.name)("value",e.value)("tabindex",e.tabindex)("aria-checked",e.checked)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy),h.yb(2),h.fc("ngClass",h.kc(19,it,e.checked,e.disabled,e.focused)),h.yb(2),h.fc("ngIf",e.label))},directives:[n.n,n.k,n.m],encapsulation:2,changeDetection:0}),t})(),st=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),rt=(()=>{class t{constructor(){this.url=p.a.apiUrl,this.userId=localStorage.getItem("userId"),this.axiosClient=C.a.create({headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",Authorization:"Bearer "+localStorage.getItem("token")},baseURL:this.url})}enviarCotacao(t){return Object(v.a)(this,void 0,void 0,(function*(){return yield this.axiosClient.post("/tivws100/cotacaofrete?userId="+this.userId,t)}))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Fb({token:t,factory:t.\u0275fac}),t})();var lt=i("7kUa");let ct=new h.q("currency.mask.config");class ut{constructor(t){this.htmlInputElement=t}setCursorAt(t){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(t,t);else if(this.htmlInputElement.createTextRange){let e=this.htmlInputElement.createTextRange();e.collapse(!0),e.moveEnd("character",t),e.moveStart("character",t),e.select()}}updateValueAndCursor(t,e,i){this.rawValue=t,this.setCursorAt(i-=e-t.length)}get canInputMoreNumbers(){let t=!(this.rawValue.length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),e=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,n=!(e==i||!this.htmlInputElement.value.substring(e,i).match(/\d/)),a="0"==this.htmlInputElement.value.substring(0,1);return t||n||a}get inputSelection(){let t=0,e=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)t=this.htmlInputElement.selectionStart,e=this.htmlInputElement.selectionEnd;else{let i=document.getSelection().anchorNode;if(i&&i.firstChild==this.htmlInputElement){let i=this.htmlInputElement.value.length,n=this.htmlInputElement.value.replace(/\r\n/g,"\n"),a=this.htmlInputElement.createTextRange(),o=this.htmlInputElement.createTextRange();o.collapse(!1),a.compareEndPoints("StartToEnd",o)>-1?t=e=i:(t=-a.moveStart("character",-i),t+=n.slice(0,t).split("\n").length-1,a.compareEndPoints("EndToEnd",o)>-1?e=i:(e=-a.moveEnd("character",-i),e+=n.slice(0,e).split("\n").length-1))}}return{selectionStart:t,selectionEnd:e}}get rawValue(){return this.htmlInputElement&&this.htmlInputElement.value}set rawValue(t){this._storedRawValue=t,this.htmlInputElement&&(this.htmlInputElement.value=t)}get storedRawValue(){return this._storedRawValue}}class pt{constructor(t,e){this.htmlInputElement=t,this.options=e,this.inputManager=new ut(t)}addNumber(t){this.rawValue||(this.rawValue=this.applyMask(!1,"0"));let e=String.fromCharCode(t),i=this.inputSelection.selectionStart,n=this.inputSelection.selectionEnd;this.rawValue=this.rawValue.substring(0,i)+e+this.rawValue.substring(n,this.rawValue.length),this.updateFieldValue(i+1)}applyMask(t,e){let{allowNegative:i,decimal:n,precision:a,prefix:o,suffix:s,thousands:r}=this.options,l=(e=t?new Number(e).toFixed(a):e).replace(/[^0-9]/g,"");if(!l)return"";let c=l.slice(0,l.length-a).replace(/^0*/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,r);""==c&&(c="0");let u=c,p=l.slice(l.length-a);a>0&&(p="0".repeat(a-p.length)+p,u+=n+p);let h=0==parseInt(c)&&(0==parseInt(p)||""==p);return(e.indexOf("-")>-1&&i&&!h?"-":"")+o+u+s}clearMask(t){if(null==t||""==t)return null;let e=t.replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(e=e.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(e=e.replace(this.options.decimal,".")),parseFloat(e)}changeToNegative(){if(this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value){let t=this.inputSelection.selectionStart;this.rawValue="-"+this.rawValue,this.updateFieldValue(t+1)}}changeToPositive(){let t=this.inputSelection.selectionStart;this.rawValue=this.rawValue.replace("-",""),this.updateFieldValue(t-1)}fixCursorPosition(t){let e=this.inputSelection.selectionStart;e>this.getRawValueWithoutSuffixEndPosition()||t?this.inputManager.setCursorAt(this.getRawValueWithoutSuffixEndPosition()):e<this.getRawValueWithoutPrefixStartPosition()&&this.inputManager.setCursorAt(this.getRawValueWithoutPrefixStartPosition())}getRawValueWithoutSuffixEndPosition(){return this.rawValue.length-this.options.suffix.length}getRawValueWithoutPrefixStartPosition(){return null!=this.value&&this.value<0?this.options.prefix.length+1:this.options.prefix.length}removeNumber(t){let{decimal:e,thousands:i}=this.options,n=this.inputSelection.selectionEnd,a=this.inputSelection.selectionStart;a>this.rawValue.length-this.options.suffix.length&&(n=this.rawValue.length-this.options.suffix.length,a=this.rawValue.length-this.options.suffix.length),n==a&&(46!=t&&63272!=t||!/^\d+$/.test(this.rawValue.substring(a,n+1))||(n+=1),46!=t&&63272!=t||this.rawValue.substring(a,n+1)!=e&&this.rawValue.substring(a,n+1)!=i||(n+=2,a+=1),8==t&&/^\d+$/.test(this.rawValue.substring(a-1,n))&&(a-=1),8!=t||this.rawValue.substring(a-1,n)!=e&&this.rawValue.substring(a-1,n)!=i||(a-=2,n-=1)),this.rawValue=this.rawValue.substring(0,a)+this.rawValue.substring(n,this.rawValue.length),this.updateFieldValue(a)}updateFieldValue(t){let e=this.applyMask(!1,this.rawValue||"");this.inputManager.updateValueAndCursor(e,this.rawValue.length,t=null==t?this.rawValue.length:t)}updateOptions(t){let e=this.value;this.options=t,this.value=e}get canInputMoreNumbers(){return this.inputManager.canInputMoreNumbers}get inputSelection(){return this.inputManager.inputSelection}get rawValue(){return this.inputManager.rawValue}set rawValue(t){this.inputManager.rawValue=t}get storedRawValue(){return this.inputManager.storedRawValue}get value(){return this.clearMask(this.rawValue)}set value(t){this.rawValue=this.applyMask(!0,""+t)}}class ht{constructor(t,e){this.inputService=new pt(t,e),this.htmlInputElement=t}handleClick(t,e){0!=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)||isNaN(this.inputService.value)||this.inputService.fixCursorPosition(e)}handleCut(t){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},0)}handleInput(t){if(this.isReadOnly())return;let e=this.getNewKeyCode(this.inputService.storedRawValue,this.inputService.rawValue),i=this.inputService.rawValue.length,n=this.inputService.inputSelection.selectionEnd,a=this.inputService.getRawValueWithoutSuffixEndPosition(),o=this.inputService.storedRawValue.length;if(this.inputService.rawValue=this.inputService.storedRawValue,n==a&&1==Math.abs(i-o)||0==o){if(i<o&&(0!=this.inputService.value?this.inputService.removeNumber(8):this.setValue(null)),i>o)switch(e){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:if(!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(e).match(/\d/))return;this.inputService.addNumber(e)}this.setCursorPosition(t),this.onModelChange(this.inputService.value)}else this.setCursorPosition(t)}handleKeydown(t){if(this.isReadOnly())return;let e=t.which||t.charCode||t.keyCode;if(8==e||46==e||63272==e){t.preventDefault();let i=Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart);i!=this.inputService.rawValue.length&&0!=this.inputService.value||(this.setValue(null),this.onModelChange(this.inputService.value)),0!=i||isNaN(this.inputService.value)||(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value)),8!==e&&46!==e||0==i||isNaN(this.inputService.value)||(this.inputService.removeNumber(e),this.onModelChange(this.inputService.value))}}handleKeypress(t){if(this.isReadOnly())return;let e=t.which||t.charCode||t.keyCode;if(null!=e&&-1==[9,13].indexOf(e)&&!this.isArrowEndHomeKeyInFirefox(t)){switch(e){case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:!this.inputService.canInputMoreNumbers||isNaN(this.inputService.value)&&null==String.fromCharCode(e).match(/\d/)||this.inputService.addNumber(e)}t.preventDefault(),this.onModelChange(this.inputService.value)}}handleKeyup(t){this.inputService.fixCursorPosition()}handlePaste(t){this.isReadOnly()||setTimeout(()=>{this.inputService.updateFieldValue(),this.setValue(this.inputService.value),this.onModelChange(this.inputService.value)},1)}updateOptions(t){this.inputService.updateOptions(t)}getOnModelChange(){return this.onModelChange}setOnModelChange(t){this.onModelChange=t}getOnModelTouched(){return this.onModelTouched}setOnModelTouched(t){this.onModelTouched=t}setValue(t){this.inputService.value=t}getNewKeyCode(t,e){if(t.length>e.length)return null;for(let i=0;i<e.length;i++)if(t.length==i||t[i]!=e[i])return e.charCodeAt(i)}isArrowEndHomeKeyInFirefox(t){return-1!=[35,36,37,38,39,40].indexOf(t.keyCode)&&(null==t.charCode||0==t.charCode)}isReadOnly(){return this.htmlInputElement&&this.htmlInputElement.readOnly}setCursorPosition(t){let e=this.inputService.getRawValueWithoutSuffixEndPosition();setTimeout((function(){t.target.setSelectionRange(e,e)}),0)}}var dt;const bt={provide:f.h,useExisting:Object(h.S)(()=>ft),multi:!0};let ft=(()=>{let t=dt=class{constructor(t,e,i){this.currencyMaskConfig=t,this.elementRef=e,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:","},t&&(this.optionsTemplate=t),this.keyValueDiffer=i.find({}).create()}ngAfterViewInit(){this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align}ngDoCheck(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))}ngOnInit(){this.inputHandler=new ht(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))}handleBlur(t){this.inputHandler.getOnModelTouched().apply(t)}handleClick(t){this.inputHandler.handleClick(t,this.isChromeAndroid())}handleCut(t){this.isChromeAndroid()||this.inputHandler.handleCut(t)}handleInput(t){this.isChromeAndroid()&&this.inputHandler.handleInput(t)}handleKeydown(t){this.isChromeAndroid()||this.inputHandler.handleKeydown(t)}handleKeypress(t){this.isChromeAndroid()||this.inputHandler.handleKeypress(t)}handleKeyup(t){this.isChromeAndroid()||this.inputHandler.handleKeyup(t)}handlePaste(t){this.isChromeAndroid()||this.inputHandler.handlePaste(t)}isChromeAndroid(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)}registerOnChange(t){this.inputHandler.setOnModelChange(t)}registerOnTouched(t){this.inputHandler.setOnModelTouched(t)}setDisabledState(t){this.elementRef.nativeElement.disabled=t}validate(t){let e={};return t.value>this.max&&(e.max=!0),t.value<this.min&&(e.min=!0),e!={}?e:null}writeValue(t){this.inputHandler.setValue(t)}};return t.\u0275fac=function(e){return new(e||t)(h.Jb(ct,8),h.Jb(h.l),h.Jb(h.t))},t.\u0275dir=h.Eb({type:t,selectors:[["","currencyMask",""]],hostBindings:function(t,e){1&t&&h.Wb("blur",(function(t){return e.handleBlur(t)}))("click",(function(t){return e.handleClick(t)}))("cut",(function(t){return e.handleCut(t)}))("input",(function(t){return e.handleInput(t)}))("keydown",(function(t){return e.handleKeydown(t)}))("keypress",(function(t){return e.handleKeypress(t)}))("keyup",(function(t){return e.handleKeyup(t)}))("paste",(function(t){return e.handlePaste(t)}))},inputs:{options:"options",max:"max",min:"min"},features:[h.xb([bt,{provide:f.g,useExisting:dt,multi:!0}])]}),t})(),mt=(()=>{let t=class{};return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[n.c,f.e]]}),t})(),gt=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},providers:[O,rt],imports:[[n.c,o.b,F,S.b,H,X,B.b,f.e,f.m,r.b,st,a.a,lt.b,mt,g,l.b,c.a]]}),t})();var vt=i("tyNb"),yt=i("rl9R"),Ct=function(t){return t.THEMA="p-button-rounded p-button-text",t.PADRAO="p-button-rounded p-button-padrao p-button-text",t.SECONDARY='"p-button-rounded p-button-secondary p-button-text',t.SUCCESS="p-button-rounded p-button-success p-button-text",t.INFO="p-button-rounded p-button-info p-button-text",t.WARNING="p-button-rounded p-button-warning p-button-text",t.HELP="p-button-rounded p-button-help p-button-text",t.DANGER="p-button-rounded p-button-danger p-button-text",t.TEXT="p-button-rounded p-button-text p-button-plain",t}({}),Ot=function(t){return t.NULL="",t.EDITAR="edit",t.DELETAR="delete",t.DOWNLOAD="download",t.NOVO="new",t.ALCADA="alcada",t.COMPROMISSO="compromisso",t.CANCELAMENTO="cancelamento",t.CHECKBOX="checkBox",t.EXIBEALERTA="exibirAlerta",t.VIABILIDADE="viabilidade",t.VISUALIZAR="visualizar",t.REFRESH="refresh",t.FILTRAR="fitrar",t.PAGINACAO="paginacao",t.EDITAR_LINHA="editar_linha",t.SALVAR_EDICAO="salvar_edicao",t.CANCELAR_EDICAO="cancelar_edicao",t.EXIBIR_ALERTA="exibir_alerta",t.CHANGE="change",t}({}),Et=function(t){return t.EDITAR="fa fa-pencil-square-o",t.EXCLUIR="fa fa-trash-o",t.LOCALIZAR="fa fa-search-plus",t.UPLOAD="pi pi-upload",t.DOWNLOAD="fa fa-download",t.CONFIRMAR="pi pi-check",t.CALENDARIO="fa fa-calendar",t.VISUALIZAR="fa fa-search",t.EXPANDIR_TABELA="pi pi-plus",t.RECOLHER_TABELA="pi pi-minus",t.EXPANDIR_SESSAO="pi pi-chevron-down",t.RECOLHER_SESSAO="pi pi-chevron-right",t.ALCADA="fa fa-thumbs-o-up",t.VIABILIDADE="fa fa-location-arrow",t.CANCELAMENTO="pi pi-inbox",t.REFRESH="fa fa-refresh",t.DINHEIRO="fa fa-usd",t.ALERTA="pi pi-exclamation-triangle",t.SUCESSO="pi pi-check",t.ERRO="pi pi-times-circle",t.INFORMACAO="pi pi-info-circle",t.CARRINHO_COMPRA="fa fa-cart-plus",t.CANCELAR="pi pi-times",t}({}),St=i("NhH4"),It=i("Tumj"),wt=i("nYR2"),At=function(t){return t.NO_INDEX_OFF="noIndexOff",t.INDEX_OFF="indexOff",t.MAIORQUE="maiorQue",t.IGUAL="igual",t.DIFERENTE="diferente",t.ITEM_LENGTH_MAIOR_QUE="itemLengthMaiorQue",t.ATRIBUTO_EXISTENTE="atributoExitente",t.ATRIBUTO_NAO_EXISTENTE="atributoNaoExitente",t.PARAMETRO_CONDICAO_TRUE="parametroCondiCaoTrue",t.PERMISSAO_DE_ACESSO="permissaoDeAcesso",t}({});let Tt=(()=>{class t{verificarAcesso(t){return this.pegarPermissoes(),!!this.permissoes.includes(t)}pegarPermissoes(){const t=JSON.parse(localStorage.getItem("dados-map"));this.permissoes=t.permissoes?t.permissoes:""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pt=(()=>{class t{constructor(t){this.permissoesService=t}avaliaCondicao(t,e,i){if(e===At.INDEX_OFF&&t){const e=t.toString();return e&&-1!=i.indexOf(e)}if(e===At.NO_INDEX_OFF&&t){const e=t.toString();return e&&-1==i.indexOf(e)}return e===At.ITEM_LENGTH_MAIOR_QUE&&t?t.length>i:e===At.DIFERENTE&&t!=i||e===At.IGUAL&&t==i||!(e!==At.ATRIBUTO_EXISTENTE||!t)||e===At.ATRIBUTO_NAO_EXISTENTE&&!t||(e===At.PERMISSAO_DE_ACESSO&&i?this.permissoesService.verificarAcesso(i):e===At.PARAMETRO_CONDICAO_TRUE&&t===i||!(e!==At.PARAMETRO_CONDICAO_TRUE||t||!i))}}return t.\u0275fac=function(e){return new(e||t)(h.Tb(Tt))},t.\u0275prov=h.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function xt(t,e){if(1&t){const t=h.Qb();h.Pb(0,"span",4),h.Wb("click",(function(){h.rc(t);const e=h.Zb().$implicit;return h.Zb(2).acaoBotao(e.command)})),h.Kb(1,"button",5),h.Ob()}if(2&t){const t=h.Zb().$implicit;h.yb(1),h.gc("icon",t.icon),h.fc("disabled",t.disabled)}}function kt(t,e){if(1&t&&(h.Pb(0,"span",2),h.yc(1,xt,2,2,"span",3),h.Ob()),2&t){const t=e.$implicit,i=h.Zb(2);h.gc("title",t.title),h.yb(1),h.fc("ngIf",!i.elemento.startLoad&&i.validaBotao(t))}}function Rt(t,e){if(1&t&&(h.Pb(0,"span"),h.yc(1,kt,2,2,"span",1),h.Ob()),2&t){const t=h.Zb();h.yb(1),h.fc("ngForOf",t.botoes)}}let Nt=(()=>{class t{constructor(t){this.condicaoService=t,this.actionButton=new h.n,this.edit=!1,this.estiloPadraoMap3c=!1}ngOnInit(){}acaoBotao(t){let e={};e.action=t,this.actionButton.emit(e)}validaBotao(t){var e;if((null===(e=null==t?void 0:t.condition)||void 0===e?void 0:e.length)>0){let e=!0;for(const i of t.condition){const t=this.condicaoService.avaliaCondicao(this.elemento[i.colunaBase],i.validator,i.condicao);t||(e=t)}return e}return!0}}return t.\u0275fac=function(e){return new(e||t)(h.Jb(Pt))},t.\u0275cmp=h.Db({type:t,selectors:[["app-buttons"]],inputs:{botoes:"botoes",elemento:"elemento",coluna:"coluna",edit:"edit",estiloPadraoMap3c:"estiloPadraoMap3c"},outputs:{actionButton:"actionButton"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"title",4,"ngFor","ngForOf"],[3,"title"],["style","padding: 3px",3,"click",4,"ngIf"],[2,"padding","3px",3,"click"],["pButton","","pRipple","","type","button","label","Enviar Cota\xe7\xe3o",1,"p-button","p-button-success","button-action",3,"icon","disabled"]],template:function(t,e){1&t&&h.yc(0,Rt,2,1,"span",0),2&t&&h.fc("ngIf",e.botoes)},directives:[n.m,n.l,o.a],styles:[".botoes[_ngcontent-%COMP%]{cursor:pointer}@media only screen and (max-width:768px){.button-action[_ngcontent-%COMP%]{padding:5px!important}}"]}),t})();function Vt(t,e){if(1&t&&(h.Pb(0,"th",7),h.Ac(1),h.Ob()),2&t){const t=e.$implicit;h.gc("id",t.header),h.fc("pSortableColumn",t.field),h.yb(1),h.Cc(" ",t.header," ")}}function Mt(t,e){if(1&t&&(h.Pb(0,"tr"),h.yc(1,Vt,2,3,"th",6),h.Ob()),2&t){const t=h.Zb(2);h.yb(1),h.fc("ngForOf",t.cols)}}function Lt(t,e){if(1&t){const t=h.Qb();h.Pb(0,"app-buttons",13),h.Wb("actionButton",(function(e){h.rc(t);const i=h.Zb(2).$implicit;return h.Zb(2).acaoBotao(e,i)})),h.Ob()}if(2&t){const t=h.Zb().$implicit,e=h.Zb().$implicit;h.fc("botoes",t.botoes)("coluna",t)("elemento",e)}}const Dt=function(t){return{background:t}};function Ft(t,e){if(1&t&&(h.Pb(0,"td",10),h.Pb(1,"span",11),h.Ac(2),h.Ob(),h.Ac(3),h.yc(4,Lt,1,3,"app-buttons",12),h.Ob()),2&t){const t=e.$implicit,i=h.Zb().$implicit;h.fc("ngStyle",h.ic(4,Dt,i.proposta.tpVeiculo?"#90cd93":"")),h.yb(2),h.Cc(" ",t.header," "),h.yb(1),h.Cc(" ","acao"!=t.field?i[t.field]:null," "),h.yb(1),h.fc("ngIf",t.botoes)}}function Bt(t,e){if(1&t&&(h.Pb(0,"tr",8),h.yc(1,Ft,5,6,"td",9),h.Ob()),2&t){const t=h.Zb(2);h.yb(1),h.fc("ngForOf",t.cols)}}function _t(t,e){if(1&t&&h.Ac(0),2&t){const t=h.Zb(3);h.Cc(" Itens encontrados: ",t.totalRegistros," ")}}function Ht(t,e){1&t&&h.yc(0,_t,1,1,"ng-template",14)}function jt(t,e){if(1&t&&(h.Pb(0,"p-table",2),h.yc(1,Mt,2,1,"ng-template",3),h.Kb(2,"hr"),h.yc(3,Bt,2,1,"ng-template",4),h.yc(4,Ht,1,0,void 0,5),h.Ob()),2&t){const t=h.Zb();h.fc("responsive",!0)("value",t.itens),h.yb(4),h.fc("ngIf",t.quantidadeItens)}}let qt=(()=>{class t{constructor(t,e){this.tableService=t,this.notificacaoService=e,this.eventAcaoBotao=new h.n,this.eventListaResuldo=new h.n,this.noRegisters=new h.n,this.loadOnInit=!0,this.ordenacaoPaginacaoExterna=!1,this.paginacao=!1,this.subTotal=!1,this.quantidadeItens=!1,this.itens=[],this.estiloPadraoMap3c=!1,this.parametrosTabela={first:0,rows:10,sortField:null,sortOrder:null},this.rowsPerPageOptions=[5,10,20,30,50,100,150],this.loading=!1,this.chamadaDuplicada=!0}ngOnInit(){return Object(v.a)(this,void 0,void 0,(function*(){this.tableService.setUrl(this.url),this.loadOnInit&&this.pesquisaComHistorico()}))}pesquisaComHistorico(){return Object(v.a)(this,void 0,void 0,(function*(){yield this.resgataHistorico(),this.pesquisa(this.parametros)}))}pesquisa(t){return Object(v.a)(this,void 0,void 0,(function*(){let e=t||{},i=new d.d;e.page=this.parametrosTabela.first,e.limit=this.parametrosTabela.rows,this.parametrosTabela.sortOrder&&(e.sortDirection=1===this.parametrosTabela.sortOrder?"DESC":"ASC"),this.parametrosTabela.sortField&&(e.sortColumn=this.parametrosTabela.sortField),this.salvaHistorico(e);const n=Object.keys(e);for(const t of n)e[t]&&(i=i.set(t,e[t]));this.loading=!0,this.tableService.findAll(i).pipe(Object(wt.a)(()=>this.loading=!1)).subscribe(t=>{t.body&&(this.itens=t.body.dados,this.totalRegistros=t.body.total),this.eventListaResuldo.emit(t.body)},t=>{this.itens=[],this.totalRegistros=0,this.eventListaResuldo.emit([]),this.notificacaoService.addNotification("error","Erro!","Erro ao localizar itens!")})}))}salvaHistorico(t){window.sessionStorage.setItem("filtroHistorico",JSON.stringify({tela:this.url,filtro:t}))}resgataHistorico(){return Object(v.a)(this,void 0,void 0,(function*(){let t=yield window.sessionStorage.getItem("filtroHistorico");return t=JSON.parse(t),t=t&&t.tela==this.url?t.filtro:null,t&&(this.parametrosTabela.rows=t.limit?t.limit:this.parametrosTabela.rows,this.parametrosTabela.sortOrder=(t.sortDirection&&"DESC"==t.sortDirection?1:0)||this.parametrosTabela.sortOrder,this.parametrosTabela.sortField=t.sortColumn?t.sortColumn:this.parametrosTabela.sortField),this.parametros=t,t}))}loadCarsLazy(t){return Object(v.a)(this,void 0,void 0,(function*(){const e=this.cols.find(e=>e.field===t.sortField);(this.loadOnInit&&!e||!(null==e?void 0:e.noSort)&&this.chamadaDuplicada)&&(yield this.resgataHistorico(),this.parametrosTabela=t,this.pesquisa(this.parametros),this.chamadaDuplicada=!1),setTimeout(()=>{this.chamadaDuplicada=!0},100)}))}acaoBotao(t,e){t.item=e,this.eventAcaoBotao.emit(t)}calculoSubtotais(t){let e=0;for(const i of this.itens)e+=i[t.field]?parseFloat(i[t.field]):0;return t.total=e-e==0?e:"--",e-e==0?e:"--"}verificaTruncat(t){if(t.header&&t.field){let e=document.getElementById(t.field);if(e.offsetWidth<e.scrollWidth)return void(t.truncat=!0)}t.truncat=!1}}return t.\u0275fac=function(e){return new(e||t)(h.Jb(b),h.Jb(St.a))},t.\u0275cmp=h.Db({type:t,selectors:[["app-tabela"]],inputs:{url:"url",cols:"cols",loadOnInit:"loadOnInit",ordenacaoPaginacaoExterna:"ordenacaoPaginacaoExterna",paginacao:"paginacao",parametros:"parametros",subTotal:"subTotal",quantidadeItens:"quantidadeItens",itens:"itens",totalRegistros:"totalRegistros",noTruncat:"noTruncat",estiloPadraoMap3c:"estiloPadraoMap3c",parametrosTabela:"parametrosTabela",rowsPerPageOptions:"rowsPerPageOptions"},outputs:{eventAcaoBotao:"eventAcaoBotao",eventListaResuldo:"eventListaResuldo",noRegisters:"noRegisters"},decls:2,vars:1,consts:[[1,"card"],["responsiveLayout","stack",3,"responsive","value",4,"ngIf"],["responsiveLayout","stack",3,"responsive","value"],["pTemplate","header"],["pTemplate","body"],[4,"ngIf"],[3,"id","pSortableColumn",4,"ngFor","ngForOf"],[3,"id","pSortableColumn"],[1,"column"],["class","coluns-table",3,"ngStyle",4,"ngFor","ngForOf"],[1,"coluns-table",3,"ngStyle"],[1,"p-column-title"],[3,"botoes","coluna","elemento","actionButton",4,"ngIf"],[3,"botoes","coluna","elemento","actionButton"],["pTemplate","paginatorleft"]],template:function(t,e){1&t&&(h.Pb(0,"div",0),h.yc(1,jt,5,3,"p-table",1),h.Ob()),2&t&&(h.yb(1),h.fc("ngIf",e.itens.length>0))},directives:[n.m,s.b,I.j,n.l,s.a,n.n,Nt],styles:[".table-map3c[_ngcontent-%COMP%]     .p-datatable-tbody>tr:nth-child(2n){background:#ee4232}.table-map3c[_ngcontent-%COMP%]     .p-datatable-thead>tr>th{border:1px solid #ee4232}.table-map3c[_ngcontent-%COMP%]     .p-datatable-thead>tr>th:hover{background:#fff}.table-map3c[_ngcontent-%COMP%]     .p-datatable-tbody>tr>td{border:1px solid #ee4232}.table-map3c[_ngcontent-%COMP%]     .p-datatable-tbody>tr:hover{background:#ee4232}.coluns-table[_ngcontent-%COMP%]{font-size:12px;padding:5px!important}.column[_ngcontent-%COMP%]{border-bottom:1px solid #d3d3d3}"]}),t})();function Zt(t,e){if(1&t){const t=h.Qb();h.Pb(0,"app-tabela",3),h.Wb("eventAcaoBotao",(function(e){return h.rc(t),h.Zb().acoesTabela(e)})),h.Ob()}if(2&t){const t=h.Zb();h.fc("cols",t.colunas)("itens",t.itenstabela)("totalRegistros",t.itenstabela.length)("loadOnInit",!1)("parametrosTabela",t.parametrosGeraisTabela)}}let Kt=(()=>{class t{constructor(t,e,i){this.analitycsService=t,this.router=e,this.notificationService=i,this.parametrosGeraisTabela={first:0,rows:10}}ngOnInit(){this.iniciaLoad("Carregando tabela..."),this.populaColuna(),this.populaItens()}populaColuna(){this.colunas=[{header:"Rota",field:"filialConcatenada",align:"left",noSort:!0},{header:"Previs\xe3o de In\xedcio",field:"dtEmbarque",align:"left",noSort:!0},{header:"Ve\xedculo preferencial",field:"tpVeiculo",align:"left",noSort:!0},{header:"Entregas",field:"qtdEntregas",align:"left",noSort:!0},{header:'Distancia "Km"',field:"distancia",align:"left",noSort:!0},{header:"Local de Inicio",field:"localInicio",align:"left",noSort:!0},{header:"Local Termino",field:"localTermino",align:"left",noSort:!0},{header:"A\xe7\xe3o",field:"acao",noSort:!0,align:"center",botoes:[{title:"Enviar Cota\xe7\xe3o",icon:Et.DINHEIRO,baotaoClass:Ct.SUCCESS,command:Ot.EDITAR}]}]}populaItens(){return Object(v.a)(this,void 0,void 0,(function*(){yield this.analitycsService.findAnalitycs().then(t=>{t.map(t=>{t.filialConcatenada=`${t.filial}/${t.idCotacao}`,t.qtdEntregas=t.entregas.length,t.dtEmbarque=`${t.prevEmbarque.substring(6,8)}/${t.prevEmbarque.substring(4,6)}/${t.prevEmbarque.substring(0,4)}`}),this.itenstabela=t,this.fechaLoad()}).catch(t=>{this.fechaLoad(),this.notificationService.addNotification("error","Erro!",t)})}))}acoesTabela(t){this.router.navigate([`home/cotacao/${t.item.idCarga}/filial/${t.item.filial}`],{state:{item:JSON.stringify(t.item)}})}iniciaLoad(t){this.loadConfig={tipo:yt.a.TELA_CHEIA,mensagem:t||""}}fechaLoad(){this.loadConfig=null}}return t.\u0275fac=function(e){return new(e||t)(h.Jb(O),h.Jb(vt.b),h.Jb(St.a))},t.\u0275cmp=h.Db({type:t,selectors:[["app-analitycs"]],decls:4,vars:2,consts:[[3,"loadConfig"],[1,"p-col-12","content"],[3,"cols","itens","totalRegistros","loadOnInit","parametrosTabela","eventAcaoBotao",4,"ngIf"],[3,"cols","itens","totalRegistros","loadOnInit","parametrosTabela","eventAcaoBotao"]],template:function(t,e){1&t&&(h.Kb(0,"app-load",0),h.Pb(1,"div",1),h.Pb(2,"div"),h.yc(3,Zt,1,5,"app-tabela",2),h.Ob(),h.Ob()),2&t&&(h.fc("loadConfig",e.loadConfig),h.yb(3),h.fc("ngIf",e.itenstabela.length>0))},directives:[It.a,n.m,qt],styles:[""]}),t})();class $t{constructor(t,e,i,n,a,o,s){this.filial=t,this.idCotacao=e,this.tpVeiculo=i,this.emiteCte=n,this.valorProposta=a,this.status=o,this.observacao=s}}var zt=i("TvAq");function Gt(t,e){1&t&&h.Ac(0),2&t&&h.Cc(" ",e.$implicit.status," ")}function Wt(t,e){if(1&t){const t=h.Qb();h.Pb(0,"map-marker",12,13),h.Wb("mapClick",(function(){h.rc(t);const e=h.qc(1),i=h.qc(3);return h.Zb().infoOpen(e,i)})),h.Pb(2,"map-info-window",null,14),h.Ac(4),h.Ob(),h.Ob()}if(2&t){const t=e.$implicit;h.fc("position",t.position)("label",t.label)("title",t.title),h.yb(4),h.Cc(" ",t.title," ")}}function Ut(t,e){if(1&t&&(h.Pb(0,"p"),h.Pb(1,"span"),h.Ac(2),h.Ob(),h.Ob()),2&t){const t=h.Zb(2);h.yb(2),h.Cc("Obs. Negocia\xe7\xe3o: ",t.frota.proposta.obsNegociacao,"")}}function Jt(t,e){if(1&t&&(h.Pb(0,"div",15),h.Pb(1,"p"),h.Pb(2,"span"),h.Ac(3,"Total de entregas"),h.Ob(),h.Ac(4),h.Ob(),h.Pb(5,"p"),h.Pb(6,"span"),h.Ac(7,"Observa\xe7\xe3o: "),h.Ob(),h.Ac(8),h.Ob(),h.Pb(9,"p"),h.Pb(10,"span"),h.Ac(11,"Peso da Carga: "),h.Ob(),h.Ac(12),h.Ob(),h.Pb(13,"p"),h.Pb(14,"span"),h.Ac(15,"Dist\xe2ncia (Km): "),h.Ob(),h.Ac(16),h.Ob(),h.Pb(17,"p"),h.Pb(18,"span"),h.Ac(19,"Previs\xe3o de Embarque: "),h.Ob(),h.Ac(20),h.Ob(),h.yc(21,Ut,3,1,"p",16),h.Ob()),2&t){const t=h.Zb();h.yb(4),h.Cc(" ",t.frota.entregas.length,""),h.yb(4),h.Bc(t.frota.observacao),h.yb(4),h.Bc(t.frota.pesoTotal),h.yb(4),h.Bc(t.frota.distancia),h.yb(4),h.Bc(t.frota.dtEmbarque),h.yb(1),h.fc("ngIf",t.frota.proposta.obsNegociacao)}}const Xt=function(){return{allowNegative:!1,prefix:"R$",thousands:".",decimal:",",precision:2}};function Qt(t,e){if(1&t){const t=h.Qb();h.Pb(0,"form",17),h.Pb(1,"div",18),h.Pb(2,"label",19),h.Ac(3,"Insira um valor para proposta:"),h.Ob(),h.Kb(4,"input",20),h.Pb(5,"label",21),h.Ac(6,"Valor da proposta anterior:"),h.Ob(),h.Kb(7,"input",22),h.ac(8,"moeda"),h.Pb(9,"label",19),h.Ac(10,"Tipo de veiculo:"),h.Ob(),h.Pb(11,"p-dropdown",23),h.Wb("ngModelChange",(function(e){return h.rc(t),h.Zb().selectedVeiculo=e})),h.Ob(),h.Pb(12,"label",19),h.Ac(13,"Emite CTE?"),h.Ob(),h.Pb(14,"div",24),h.Pb(15,"p-radioButton",25),h.Wb("ngModelChange",(function(e){return h.rc(t),h.Zb().selectedValues=e})),h.Ob(),h.Pb(16,"p-radioButton",26),h.Wb("ngModelChange",(function(e){return h.rc(t),h.Zb().selectedValues=e})),h.Ob(),h.Ob(),h.Pb(17,"label",19),h.Ac(18,"Observa\xe7\xe3o:"),h.Ob(),h.Kb(19,"input",27),h.Pb(20,"button",28),h.Wb("click",(function(){return h.rc(t),h.Zb().enviarCotacao()})),h.Ob(),h.Ob(),h.Ob()}if(2&t){const t=h.Zb();h.fc("formGroup",t.form),h.yb(4),h.fc("options",h.hc(14,Xt)),h.yb(3),h.fc("value",h.bc(8,12,t.valorCotacao))("disabled",!0),h.yb(4),h.fc("ngModel",t.selectedVeiculo)("options",t.tpVeiculos)("placeholder","Selecione")("showClear",!0)("filter",!0),h.yb(4),h.fc("ngModel",t.selectedValues),h.yb(1),h.fc("ngModel",t.selectedValues),h.yb(4),h.fc("disabled",!t.submitButton)}}const Yt=[{path:"",component:Kt},{path:"cotacao/:id/filial/:filial",component:(()=>{class t{constructor(t,e,i,n,a,o){this.route=t,this.router=e,this.analitycsService=i,this.cotacaoService=n,this.notificationService=a,this.formBuilder=o,this.googleDirectionService=new google.maps.DirectionsService,this.map={constrol:{},zoom:12},this.value=10,this.overlays=[],this.zoom=7,this.status="Proposta",this.positions=[],this.submitButton=!0,this.parametrosGeraisTabela={first:0,rows:10},this.geocoder=new google.maps.Geocoder}ngOnInit(){return Object(v.a)(this,void 0,void 0,(function*(){const t=this.route.snapshot.queryParamMap.get("status");t&&(this.status=t);const e=this.route.snapshot.paramMap.get("id"),i=this.route.snapshot.paramMap.get("filial");this.iniciaLoad(yt.a.TELA_CHEIA,"Carregando cota\xe7\xe3o..."),yield this.analitycsService.findAnalitycs().then(t=>{this.frota=t.find(t=>t.idCarga==e&&t.filial==i),this.item={filial:this.frota.filial,idCotacao:this.frota.idCotacao},this.title=`Rota: ${this.frota.filial}/${this.frota.idCotacao}`,this.tpVeiculos=this.frota.tpVeiculo.split(", "),this.entregas=this.frota.entregas,this.frota.dtEmbarque=`${this.frota.prevEmbarque.substring(6,8)}/${this.frota.prevEmbarque.substring(4,6)}/${this.frota.prevEmbarque.substring(0,4)}`,this.centralizaMapa(),this.populaEventos(),this.populaColuna(),this.fechaLoad()}).catch(t=>{console.error(t),this.fechaLoad(),this.notificationService.addNotification("error","Erro!","N\xe3o foi poss\xedvel carrega as informa\xe7\xf5es.")}),this.frota.proposta.emiteCte&&("Negociacao"!=this.status&&(this.status=this.frota.proposta.status?this.frota.proposta.status:"Proposta"),this.selectedValues=this.frota.proposta.emiteCte,this.valorCotacao=this.frota.proposta.valorProposta,this.selectedVeiculo=this.tpVeiculos[this.tpVeiculos.indexOf(this.frota.proposta.tpVeiculo)]),setTimeout(()=>{this.populaMapa()},4e3),this.criarFormulario(this.item?this.item:new $t)}))}populaEventos(){let t=[{status:this.frota.localInicio}];for(let e=0;e<this.entregas.length;e++){const i=this.entregas[e];t.push({status:i.localEntrega}),this.buscaLocalizacao(i.localEntrega,"entrega",i.seq,i)}this.events=t}centralizaMapa(){this.buscaLocalizacao(this.frota.localInicio,"localInicio",0),this.buscaLocalizacao(this.frota.localTermino,"localTermino",this.frota.entregas.length+1)}populaColuna(){this.colunas=[{header:"Id",field:"seq",align:"left",noSort:!0},{header:"Local de Entrega",field:"localEntrega",align:"left",noSort:!0},{header:"Peso",field:"peso",align:"left",noSort:!0}]}criarFormulario(t){this.form=this.formBuilder.group({filial:[t.filial],idCotacao:[t.idCotacao],emiteCte:[t.emiteCte,f.o.required],status:[this.status],tpVeiculo:[t.tpVeiculo,f.o.required],valorProposta:[t.valorProposta,f.o.required],observacao:[t.observacao]})}buscaLocalizacao(t,e,i,n){this.iniciaLoad(yt.a.TELA_CHEIA,"Carregando localiza\xe7\xe3o..."),this.geocoder.geocode({address:t},(a,o)=>Object(v.a)(this,void 0,void 0,(function*(){if(o==google.maps.GeocoderStatus.OK){const o=a[0].geometry.location.lat(),s=a[0].geometry.location.lng(),r=new google.maps.LatLng(o,s);return this.positions.push({location:r,stopover:!0}),"localInicio"==e&&(this.pointA=r),"localTermino"==e&&(this.pointB=r),yield this.addMarkers(r,i,n||{localEntrega:t,peso:0,seq:i,comecoOuFimDeRota:!0}),void this.fechaLoad()}})))}addMarkers(t,e,i){return Object(v.a)(this,void 0,void 0,(function*(){const e={position:t,label:{color:"#000000",text:""+i.localEntrega},options:{animation:google.maps.Animation.BOUNCE},title:`Entrega: ${i.seq} \nPeso: ${i.peso} \nLocal Entrega: ${i.localEntrega}`};this.overlays.push(e)}))}populaMapa(){return Object(v.a)(this,void 0,void 0,(function*(){this.iniciaLoad(yt.a.TELA_CHEIA,"Carregando mapa..."),this.googleDirectionService.route({origin:this.pointA,destination:this.pointB,waypoints:this.positions,optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING},(t,e)=>{if(google.maps.DirectionsStatus.OK==e){const e=t.routes[0].overview_path,i=[];for(let t=0;t<e.length;t++)i[t]=new google.maps.LatLng(e[t].lat(),e[t].lng());this.polyneOptions={path:[...i],strokeColor:"#ff5d4f",strokeOpacity:1,strokeWeight:2},this.fechaLoad()}else this.fechaLoad(),this.notificationService.addNotification("error","Erro!","N\xe3o foi poss\xedvel carrega as informa\xe7\xf5es.")})}))}enviarCotacao(){return Object(v.a)(this,void 0,void 0,(function*(){this.iniciaLoad("Enviando cota\xe7\xe3o..."),this.submitButton=!1;const t=this.form.value.tpVeiculo;0==t.indexOf(" ")&&(this.form.value.tpVeiculo=t.replace(/^./,"")),this.cotacaoService.enviarCotacao(this.form.value).then(t=>{this.fechaLoad(),this.notificationService.addNotification("success","Sucesso!","Cota\xe7\xe3o enviada com sucesso!"),setTimeout(()=>{this.router.navigate(["home"])},3e3)}).catch(t=>{this.submitButton=!0,this.fechaLoad(),this.notificationService.addNotification("error","Erro!","Ocorreu um erro inesperado, tente novamente!")})}))}iniciaLoad(t,e){this.loadConfig={tipo:t,mensagem:e||""}}fechaLoad(){this.loadConfig=null}infoOpen(t,e){e.open(t)}}return t.\u0275fac=function(e){return new(e||t)(h.Jb(vt.a),h.Jb(vt.b),h.Jb(O),h.Jb(rt),h.Jb(St.a),h.Jb(f.b))},t.\u0275cmp=h.Db({type:t,selectors:[["app-cotacao"]],viewQuery:function(t,e){var i;1&t&&h.Dc(S.a,!0),2&t&&h.pc(i=h.Xb())&&(e.mapElement=i.first)},decls:18,vars:10,consts:[[3,"loadConfig"],[1,"p-grid","content",2,"justify-content","space-around"],[1,"p-col-12","p-md-6"],[3,"header"],[2,"justify-content","left",3,"value"],["pTemplate","content"],["height","565px","width","100%",3,"zoom","center","options"],[3,"position","label","title","mapClick",4,"ngFor","ngForOf"],[3,"options"],[1,"container-subtitle"],["class","subtitle",4,"ngIf"],[3,"formGroup",4,"ngIf"],[3,"position","label","title","mapClick"],["marker","mapMarker"],["infoWindow","mapInfoWindow"],[1,"subtitle"],[4,"ngIf"],[3,"formGroup"],[1,"p-col-12"],[1,"obrigatorio"],["pInputText","","type","text","name","valorProposta","id","valorProposta","formControlName","valorProposta","currencyMask","","maxlength","150","width","100%",3,"options"],[1,"space-label"],["autocomplete","off","type","text","pInputText","","placeholder","","currencyMask","",3,"value","disabled"],["formControlName","tpVeiculo","emptyFilterMessage","Nenhum resultado encontrado.",3,"ngModel","options","placeholder","showClear","filter","ngModelChange"],[1,"p-col-12","p-md-4","p-lg-4",2,"display","flex","justify-content","space-between"],["id","emiteCte","name","emiteCte","value","Sim","label","Sim","formControlName","emiteCte",3,"ngModel","ngModelChange"],["id","emiteCte","name","emiteCte","value","Nao","label","N\xe3o","formControlName","emiteCte",3,"ngModel","ngModelChange"],["pInputText","","type","text","name","observacao","id","observacao","formControlName","observacao","maxlength","150","width","100%"],["pButton","","label","Enviar Cota\xe7\xe3o",1,"p-button-success","btTemeAction","bt-submit",2,"width","100%",3,"disabled","click"]],template:function(t,e){1&t&&(h.Kb(0,"p-toast"),h.Kb(1,"app-load",0),h.Pb(2,"div",1),h.Pb(3,"div",2),h.Pb(4,"p-card",3),h.Pb(5,"div",2),h.Pb(6,"p-timeline",4),h.yc(7,Gt,1,1,"ng-template",5),h.Ob(),h.Ob(),h.Ob(),h.Ob(),h.Pb(8,"div",2),h.Pb(9,"p-card"),h.Pb(10,"google-map",6),h.yc(11,Wt,5,4,"map-marker",7),h.Kb(12,"map-polyline",8),h.Ob(),h.Ob(),h.Ob(),h.Pb(13,"div",2),h.Pb(14,"p-card"),h.Pb(15,"div",9),h.yc(16,Jt,22,6,"div",10),h.Ob(),h.yc(17,Qt,21,15,"form",11),h.Ob(),h.Ob(),h.Ob()),2&t&&(h.yb(1),h.fc("loadConfig",e.loadConfig),h.yb(3),h.fc("header",e.title),h.yb(2),h.fc("value",e.events),h.yb(4),h.fc("zoom",e.zoom)("center",e.pointA)("options",e.map),h.yb(1),h.fc("ngForOf",e.overlays),h.yb(1),h.fc("options",e.polyneOptions),h.yb(4),h.fc("ngIf",e.frota.entregas),h.yb(1),h.fc("ngIf",e.form))},directives:[r.a,It.a,D,J,I.j,S.a,n.l,S.e,n.m,S.d,S.c,f.p,f.k,f.d,f.a,lt.a,f.j,f.c,ft,f.f,l.a,ot,o.a],pipes:[zt.a],styles:[".cotacaoWrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}.cardWrapper[_ngcontent-%COMP%]{width:50%;margin:8px 0}"]}),t})()}];let te=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},providers:[],imports:[[vt.e.forChild(Yt)]]}),t})(),ee=(()=>{class t{}return t.\u0275mod=h.Hb({type:t}),t.\u0275inj=h.Gb({factory:function(e){return new(e||t)},imports:[[n.c,te,E,gt]]}),t})()}}]);
//# sourceMappingURL=5-es2015.da4b1af8828ff4c3428d.js.map